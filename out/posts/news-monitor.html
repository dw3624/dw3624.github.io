<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/537c87cf7fb723d2.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/635f6e824b737eea.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-8ec892484f7f899d.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-0d42ee2bf61cb1ed.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-fb8884602732d627.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-b40192eeb19c5c82.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-3501045d0728dbb0.js" async=""></script><script src="/_next/static/chunks/171-f5eae2558622985e.js" async=""></script><script src="/_next/static/chunks/app/layout-3689a3743d3eed51.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-414f4d94b60160e3.js" async=""></script><title>dw3624 Blog</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/cookie.svg"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="__className_aaf875"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="flex flex-col h-[100dvh]"><header class="container max-w-3xl"><div class="flex items-center justify-between h-16"><div class="flex gap-8 capitalize"><a class="inline-flex items-center justify-center text-primary hover:text-primary/80" href="/"><span class="inline-flex items-center h-full ml-2 font-bold">~/</span></a><nav class="flex gap-4"><a target="_self" class="inline-flex items-center justify-center font-semibold hover:text-foreground/80 text-foreground" href="/posts/pages/1">Posts</a><a target="_self" class="inline-flex items-center justify-center font-semibold hover:text-foreground/80 text-foreground/60" href="/tags">Tags</a><a target="_blank" class="inline-flex items-center justify-center font-semibold hover:text-foreground/80 text-foreground/60" href="https://www.notion.so/69a26827954545ee94ba401f49b42ccb">Resume</a></nav></div><nav><div>Hi.</div></nav></div></header><main class="flex-1 container max-w-3xl"><div class="py-6 h-full"><section class="flex flex-col gap-8 h-full justify-between"><article><header><time class="text-sm font-bold text-muted-foreground font-mono">January 23, 2024</time><h1 class="mt-2 text-3xl md:text-4xl font-bold lg:text-5xl">저녁뉴스 보고서 생성 서비스 개발 기록</h1><p class="mt-2 text-foreground/80">SvelteKit과 FastAPI로 서비스 구축하고 AWS, Cloudflare Pages에 배포하기</p><div class="mt-6 flex flex-wrap gap-2"><a class="inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80" href="/tags/SvelteKit">SvelteKit</a><a class="inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80" href="/tags/FastAPI">FastAPI</a><a class="inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80" href="/tags/AWS">AWS</a><a class="inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80" href="/tags/Github Actions">Github Actions</a><a class="inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80" href="/tags/Cloudflare Pages">Cloudflare Pages</a></div></header><div class="mt-16"><h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="개발환경"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#개발환경"><span class="icon icon-link"></span></a>개발환경</h2>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">SvelteKit (SSR)</li>
<li class="mt-2">Cloudflare Pages</li>
<li class="mt-2">FastAPI</li>
<li class="mt-2">Docker</li>
<li class="mt-2">GitHub Actions</li>
<li class="mt-2">AWS (EC2)</li>
</ul>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="배포환경"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#배포환경"><span class="icon icon-link"></span></a>배포환경</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6"><strong>프론트엔드</strong></p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">Cloudflare Pages를 사용해 배포한다.</li>
<li class="mt-2">main 브랜치가 push 되면 자동으로 빌드 및 배포가 이뤄진다.</li>
</ul>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6"><strong>백엔드</strong></p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">AWS EC2를 이용해 배포한다.</li>
<li class="mt-2">Github Actions를 통해  main 브랜치에 push하면 Docker 이미지가 빌드되고 자동으로 배포된다.</li>
</ul>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="ec2-인스턴스-생성-및-docker-설치"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#ec2-인스턴스-생성-및-docker-설치"><span class="icon icon-link"></span></a>EC2 인스턴스 생성 및 Docker 설치</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">백엔드 서버는 80번 포트로 실행할 예정이기 때문에 인바운드 규칙은 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">HTTP:80</code>과 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">HTTPS:443</code>을 허용한다.
ssh로 연결할 경우 추가로 22번 포트도 열어준다.</p>
<ol class="mt-6 mb-6 ml-6 list-decimal">
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">EC2 인스턴스 생성</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">Ubuntu, HTTPs, HTTP 트래픽 허가 체크</li>
<li class="mt-2">개인 pem 키는 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">C:\Users\user\.ssh\</code>에 저장</li>
</ul>
</li>
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">remote ssh로 연결
<code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">ssh -i &quot;~/.ssh/news-tool.pem&quot; ubuntu@ec2-**-***-***-**.us-east-2.compute.amazonaws.com</code></p>
</li>
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Docker 설치
<a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository">공식 문서</a>에서 소개하는 대로 설치 진행</p>
</li>
<li class="mt-2">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Docker 설정 변경 (선택)
linux 환경에서 Docker를 조작하려면 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">sudo</code>를 사용해야 한다. 사용자를 Docker그룹에 추가해 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">sudo</code>를 생략할 수 있다.</p>
</li>
</ol>
<figure data-rehype-pretty-code-figure=""><pre class="mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4" style="background-color:#24292e;color:#e1e4e8" tabindex="0" data-language="bash" data-theme="github-dark"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20" data-language="bash" data-theme="github-dark" style="display:grid"><span data-line=""><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> usermod -aG docker ubuntu</span></span>
<span data-line=""><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> service docker restart</span></span></code></pre></figure>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">usermod</code> : 사용자 속성 변경</li>
<li class="mt-2"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">-G (--group)</code> : 새로운 그룹</li>
<li class="mt-2"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">-a (--append)</code> : 다른 그룹에서 삭제 없이 G 옵션에 따른 그룹에 사용자 추가</li>
</ul>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="workflow-작성"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#workflow-작성"><span class="icon icon-link"></span></a>workflow 작성</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">github action에서 사용할 workflow yml을 작성한다.
workflow는 리포지토리에 등록된 secret 토큰을 사용할 수 있다.
코드 작성에 앞서 workflow에서 사용할 토큰을 미리 발급받고 등록을 한다.</p>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="token-발급"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#token-발급"><span class="icon icon-link"></span></a>Token 발급</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">workflow에서 사용할 secret 토큰을 발급한다.</p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6"><strong>docker access token</strong></p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">docker.com 접속</li>
<li class="mt-2">account Settings &gt; Security &gt; new access token</li>
<li class="mt-2"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">dckr_pat_**************_**=*********</code></li>
</ul>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6"><strong>EC2 pem key, user name, host name</strong></p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">user명: <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">user</code></li>
<li class="mt-2">host명: <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">ec2-00-000-000-00.us-east-2.compute.amazonaws.com</code></li>
</ul>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="secret-토큰-리포지토리-등록"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#secret-토큰-리포지토리-등록"><span class="icon icon-link"></span></a>secret 토큰 리포지토리 등록</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">위에서 발급 받은 토큰을 Github 리포지토리에 등록한다
리포지토리 settings → security → actions → new repository secret</p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">key값은 workflow 코드에서 사용할 이름과 같아야 한다.</p>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="workflow-코드"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#workflow-코드"><span class="icon icon-link"></span></a>workflow 코드</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">main 브랜치에 push하면 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">backend/</code> 파일을 Docker 이미지로 만들어 EC2로 배포하는 내용이다.
Docker 실행시 8000번 포트를 80번(HTTP)으로 포트 포워딩하도록 설정했다.</p>
<figure data-rehype-pretty-code-figure=""><figcaption data-rehype-pretty-code-title="" data-language="yml" data-theme="github-dark">.github/workflows/deploy.yml</figcaption><pre class="mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4" style="background-color:#24292e;color:#e1e4e8" tabindex="0" data-language="yml" data-theme="github-dark"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20" data-language="yml" data-theme="github-dark" style="display:grid"><span data-line=""><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Deploy with Docker</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#9ECBFF">// trigger 조건</span></span>
<span data-line=""><span style="color:#79B8FF">on</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">  push</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">    branches</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&#x27;main&#x27;</span><span style="color:#E1E4E8">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#9ECBFF">// 실행할 내용</span></span>
<span data-line=""><span style="color:#85E89D">jobs</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">  build</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">    runs-on</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">ubuntu-latest</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#85E89D">    steps</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Checkout</span></span>
<span data-line=""><span style="color:#85E89D">        uses</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">actions/checkout@v3</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Login to Docker Hub</span></span>
<span data-line=""><span style="color:#85E89D">        uses</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">docker/login-action@v3</span></span>
<span data-line=""><span style="color:#85E89D">        with</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">          username</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${{ secrets.DOCKER_HUB_USERNAME }}</span></span>
<span data-line=""><span style="color:#85E89D">          password</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Build and push Docker image</span></span>
<span data-line=""><span style="color:#85E89D">        uses</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">docker/build-push-action@v5</span></span>
<span data-line=""><span style="color:#85E89D">        with</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">          context</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">./backend</span></span>
<span data-line=""><span style="color:#85E89D">          push</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span></span>
<span data-line=""><span style="color:#85E89D">          tags</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${{ secrets.DOCKER_HUB_USERNAME }}/news-tool:latest</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Deploy via SSH</span></span>
<span data-line=""><span style="color:#85E89D">        uses</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">appleboy/ssh-action@v1.0.0</span></span>
<span data-line=""><span style="color:#85E89D">        with</span><span style="color:#E1E4E8">:</span></span>
<span data-line=""><span style="color:#85E89D">          host</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${{ secrets.EC2_SSH_HOST }}</span></span>
<span data-line=""><span style="color:#85E89D">          username</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${{ secrets.EC2_SSH_USER }}</span></span>
<span data-line=""><span style="color:#85E89D">          key</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${{ secrets.EC2_SSH_PRIVATE_KEY }}</span></span>
<span data-line=""><span style="color:#85E89D">          script</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">|</span></span>
<span data-line=""><span style="color:#9ECBFF">            if docker ps -a | grep -q news-tool; then</span></span>
<span data-line=""><span style="color:#9ECBFF">              docker stop news-tool</span></span>
<span data-line=""><span style="color:#9ECBFF">              docker rm news-tool</span></span>
<span data-line=""><span style="color:#9ECBFF">            fi</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#9ECBFF">            cd /home/ubuntu</span></span>
<span data-line=""><span style="color:#9ECBFF">            docker pull ${{ secrets.DOCKER_HUB_USERNAME }}/news-tool:latest</span></span>
<span data-line=""><span style="color:#9ECBFF">            docker run -d --name news-tool -p 80:8000 ${{ secrets.DOCKER_HUB_USERNAME }}/news-tool:latest</span></span>
<span data-line=""><span style="color:#9ECBFF">            echo &quot;Deployed news-tool&quot;</span></span>
<span data-line=""> </span></code></pre></figure>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="aws-https-적용"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#aws-https-적용"><span class="icon icon-link"></span></a>AWS HTTPS 적용</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">HTTPS 페이지에서 HTTP 리소스를 로드하면 Mixed Content 에러가 발생한다.
브라우저의 보안 정책으로 HTTPS로 로드된 페이지에서는 HTTP 리소스를 로드하는 것이 차단되기 때문이다.
이를 해결하기 위해 EC2 서버에 HTTPS를 적용해야 한다.
대략적인 흐름은 다음과 같다.</p>
<ol class="mt-6 mb-6 ml-6 list-decimal">
<li class="mt-2">Route53에서 DNS 도메인 구매</li>
<li class="mt-2">AWS Certificate Manager에서 SSL 인증서 발급 및 호스팅 영역에 레코드 등록</li>
<li class="mt-2">AWS Load Balancer 적용할 대상 그룹 생성</li>
<li class="mt-2">AWS Load Balancer 생성 및 적용</li>
<li class="mt-2">domain A 레코드 등록</li>
<li class="mt-2">리스너 규칙 추가</li>
</ol>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="route53에서-dns-도메인-구매"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#route53에서-dns-도메인-구매"><span class="icon icon-link"></span></a>Route53에서 DNS 도메인 구매</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">도메인 등록에서 원하는 도메인 검색 후 구매한다.
구매가 승인되면 이메일로 도메인을 인증한다.</p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">이후 호스팅 영역을 생성한다.</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">도메인 이름 입력 : 구매한 도메인 주소 입력</li>
<li class="mt-2">유형 : 퍼블릭 호스팅 영역</li>
</ul>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="aws-certificate-manager에서-ssl-인증서-발급-및-호스팅-영역에-레코드-등록"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#aws-certificate-manager에서-ssl-인증서-발급-및-호스팅-영역에-레코드-등록"><span class="icon icon-link"></span></a>AWS Certificate Manager에서 SSL 인증서 발급 및 호스팅 영역에 레코드 등록</h3>
<h4 class="mt-8 scroll-m-20 text-lg md:text-xl font-semibold tracking-tight" id="ssl-인증서-발급"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#ssl-인증서-발급"><span class="icon icon-link"></span></a>SSL 인증서 발급</h4>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">acm에서 발급 받은 ssl은 내보내기 불가</li>
<li class="mt-2">aws 로드밸런싱 서비스로 적용해야 함 (<a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://jindevelopetravel0919.tistory.com/192">참고</a>)</li>
</ul>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">ACM → 인증서 요청</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">퍼블릭 인증서 요청</li>
<li class="mt-2">구매한 도메인 주소 입력</li>
<li class="mt-2">DNS 검증</li>
<li class="mt-2">RSA 2048</li>
</ul>
<h4 class="mt-8 scroll-m-20 text-lg md:text-xl font-semibold tracking-tight" id="cname-레코드-등록"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#cname-레코드-등록"><span class="icon icon-link"></span></a>CNAME 레코드 등록</h4>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Route53 → 도메인 주소 클릭 → 레코드 생성</p>
<blockquote class="mt-6 border-l-2 pl-6 italic [&amp;&gt;*]:text-muted-foreground break-words">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">발급까지 짧으면 20~30분, 길면 2시간 정도 걸린다고 한다.
그 이상 걸릴 경우 과정을 점검하거나 다시 요청할 필요가 있다.</p>
</blockquote>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="aws-load-balancer-적용할-대상-그룹-생성"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#aws-load-balancer-적용할-대상-그룹-생성"><span class="icon icon-link"></span></a>AWS Load Balancer 적용할 대상 그룹 생성</h3>
<blockquote class="mt-6 border-l-2 pl-6 italic [&amp;&gt;*]:text-muted-foreground break-words">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">대상 그룹 : 로드밸런서가 연결할 인스턴스 그룹들</p>
</blockquote>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">EC2 → 대상 그룹 → 대상 그룹 생성</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">대상 유형 : 인스턴스</li>
<li class="mt-2">VPC : 인스턴스 EC2와 동일하게 설정</li>
<li class="mt-2">상태검사 : 유효한 URI Path 입력<!-- -->
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">정기적으로 AWS가 요청을 보내 유효한지 확인</li>
</ul>
</li>
</ul>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="aws-load-balancer-생성-및-적용"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#aws-load-balancer-생성-및-적용"><span class="icon icon-link"></span></a>AWS Load Balancer 생성 및 적용</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">EC2 → 로드밸런서 → ALB 생성</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">네트워크 매핑 :  모두 선택<!-- -->
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">EC2가 사용하는 VPC, 서브넷과 매핑돼야 한다.</li>
</ul>
</li>
<li class="mt-2">보안 그룹 : EC2 인스턴스와 동일</li>
<li class="mt-2">리스너<!-- -->
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">HTTP:80</code> Forward to  : 생성한 대상그룹 선택</li>
<li class="mt-2"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">HTTPS:443</code> Forward to  : 생성한 대상그룹 선택</li>
</ul>
</li>
<li class="mt-2">인증서 : ACM으로 생성한 인증서 선택</li>
</ul>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="domain-a-레코드-등록"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#domain-a-레코드-등록"><span class="icon icon-link"></span></a>domain A 레코드 등록</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Route53 → 도메인 주소 클릭 → 레코드 생성 → 별칭</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">트래픽 라우팅 대상 : Application/Classic Load Balancer에 대한 별칭</li>
<li class="mt-2">리전 : 로드밸런서와 동일한 리전 선택</li>
<li class="mt-2">생성한 로드밸런서 선택</li>
</ul>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">총 4개의 레코드가 있으면 된다. (A, NS, SOA, CNAME)</p>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="리스너-규칙-추가"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#리스너-규칙-추가"><span class="icon icon-link"></span></a>리스너 규칙 추가</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">80번 포트 리스너를 443번 포트로 리다이렉트하도록 설정한 뒤
로드밸런서 정보로 들어가 아래 리스너탭을 확인한다.</p>
<h4 class="mt-8 scroll-m-20 text-lg md:text-xl font-semibold tracking-tight" id="https80-조건-추가"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#https80-조건-추가"><span class="icon icon-link"></span></a><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">HTTPS:80</code> 조건 추가</h4>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">1단계 : 규칙 추가 (선택)
2단계 : 규칙 조건 정의</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">호스트 헤더</li>
<li class="mt-2">구매한 도메인 주소 입력
3단계 : 규칙 작업 정의</li>
<li class="mt-2">대상 그룹으로 전달</li>
<li class="mt-2">대상 그룹 : 생성한 대상 그룹 선택</li>
<li class="mt-2">기본값보다 우선이 되도록 조정</li>
</ul>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">로드밸런싱 &gt; 대상 그룹에서 생성한 대상 그룹을 선택했을 때 표시했을 때
정상 표시가 뜨면 HTTPS  적용이 완료된 것이다.</p>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="프론트엔드-배포"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#프론트엔드-배포"><span class="icon icon-link"></span></a>프론트엔드 배포</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">통신할 API 엔드포인트를 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">https://&lt;도메인 주소&gt;</code>로 변경한다.</p>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="스벨테킷-어댑터-추가"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#스벨테킷-어댑터-추가"><span class="icon icon-link"></span></a>스벨테킷 어댑터 추가</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">sveltekit은 빌드시 적절한 adaptor가 필요하다.
Cloudflare Pages에 배포하기 위해 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">adapter-cloudflare</code>를 설치하고 svelte.config.js를 수정한다.
<a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://kit.svelte.dev/docs/adapter-cloudflare">공식문서</a> 안내 대로 진행하면 된다.</p>
<figure data-rehype-pretty-code-figure=""><pre class="mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4" style="background-color:#24292e;color:#e1e4e8" tabindex="0" data-language="bash" data-theme="github-dark"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20" data-language="bash" data-theme="github-dark" style="display:grid"><span data-line=""><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> i -D @sveltejs/adapter-cloudflare</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre class="mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4" style="background-color:#24292e;color:#e1e4e8" tabindex="0" data-language="js" data-theme="github-dark"><code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20" data-language="js" data-theme="github-dark" style="display:grid"><span data-line=""><span style="color:#F97583">import</span><span style="color:#E1E4E8"> adapter </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#x27;@sveltejs/adapter-cloudflare&#x27;</span><span style="color:#E1E4E8">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#E1E4E8"> {</span></span>
<span data-line=""><span style="color:#E1E4E8">  kit: {</span></span>
<span data-line=""><span style="color:#E1E4E8">    adapter: </span><span style="color:#B392F0">adapter</span><span style="color:#E1E4E8">({</span></span>
<span data-line=""><span style="color:#6A737D">      // See below for an explanation of these options</span></span>
<span data-line=""><span style="color:#E1E4E8">      routes: {</span></span>
<span data-line=""><span style="color:#E1E4E8">        include: [</span><span style="color:#9ECBFF">&#x27;/*&#x27;</span><span style="color:#E1E4E8">],</span></span>
<span data-line=""><span style="color:#E1E4E8">        exclude: [</span><span style="color:#9ECBFF">&#x27;&lt;all&gt;&#x27;</span><span style="color:#E1E4E8">]</span></span>
<span data-line=""><span style="color:#E1E4E8">      }</span></span>
<span data-line=""><span style="color:#E1E4E8">    })</span></span>
<span data-line=""><span style="color:#E1E4E8">  }</span></span>
<span data-line=""><span style="color:#E1E4E8">};</span></span></code></pre></figure>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="cloudflare-pages-배포"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#cloudflare-pages-배포"><span class="icon icon-link"></span></a>Cloudflare Pages 배포</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">main 브랜치에 push 되면 <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">frontend/</code> 파일을 build하고 deploy하도록 설정</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">Framework preset : Sveltekit</li>
<li class="mt-2">Build command : <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">npm run build</code></li>
<li class="mt-2">Build output directory : <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">/.svelte-kit/cloudflare</code></li>
<li class="mt-2">Root directory : <code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">/frontend</code></li>
</ul>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">이후 <a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://news-monitor.pages.dev">https://news-monitor.pages.dev</a> 가 문제없이 표시되며
통신도 정상적으로 이뤄지는 것을 확인할 수 있다.</p>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0" id="참고"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#참고"><span class="icon icon-link"></span></a>참고</h2>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="github-actions"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#github-actions"><span class="icon icon-link"></span></a>Github Actions</h3>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://github.com/dev-artisee/project000-backend-recommend">project000-backend-recommend</a></li>
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://github.com/appleboy/ssh-action">SSH for GitHub Actions</a></li>
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://yein-lee.tistory.com/50">GitHub Actions을 이용한 Docker 이미지 빌드 및 AWS EC2 배포 자동화</a></li>
</ul>
<h3 class="mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight" id="aws"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#aws"><span class="icon icon-link"></span></a>AWS</h3>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://velog.io/@sysy123/Github-Actions-CICD">[Github Actions CI/CD] AWS EC2 + Docker 배포하기</a></li>
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://woojin.tistory.com/94">EC2 HTTPS로 연결하기</a></li>
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://jindevelopetravel0919.tistory.com/192">[AWS] EC2 HTTPS 및 로드밸런서 적용</a></li>
<li class="mt-2"><a class="font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80" href="https://support.bespinglobal.com/ko/support/solutions/articles/73000544834--aws-acm-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%EA%B8%89-%ED%9B%84-%EC%A0%81%EC%9A%A9-%EB%B0%A9%EB%B2%95-">[AWS] ACM 인증서 발급 후 적용 방법.</a></li>
</ul></div></article><nav class="w-full flex flex-col gap-2 mt-6 mx-auto md:flex-row"><a class="flex flex-1 gap-4 items-center p-4 text-sm text-muted-foreground border hover:text-primary border-primary/20" href="/posts/biome"><div class="flex flex-1 flex-col" style="text-align:left"><span class="text-xs text-foreground">Next</span><span class="truncate">Biome</span></div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right "><path d="m9 18 6-6-6-6"></path></svg></a></nav></section></div></main><footer class="container max-w-3xl"><div class="h-20 flex justify-between items-center font-sm"><a target="_blank" href="https://github.com/dw3624"><span class="inline-flex items-center justify-center text-muted-foreground hover:underline">© dw3624</span></a></div></footer></div><script src="/_next/static/chunks/webpack-8ec892484f7f899d.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/537c87cf7fb723d2.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/635f6e824b737eea.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[9891,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"171\",\"static/chunks/171-f5eae2558622985e.js\",\"185\",\"static/chunks/app/layout-3689a3743d3eed51.js\"],\"ThemeProvider\"]\nb:I[6758,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"171\",\"static/chunks/171-f5eae2558622985e.js\",\"185\",\"static/chunks/app/layout-3689a3743d3eed51.js\"],\"\"]\nc:I[953,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"171\",\"static/chunks/171-f5eae2558622985e.js\",\"185\",\"static/chunks/app/layou"])</script><script>self.__next_f.push([1,"t-3689a3743d3eed51.js\"],\"\"]\ne:I[8955,[],\"\"]\n8:[\"slug\",\"news-monitor\",\"d\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/537c87cf7fb723d2.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"g5y0cjw97hFmqsxpxiYux\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/news-monitor\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"news-monitor\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"news-monitor\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"news-monitor\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/635f6e824b737eea.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$La\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col h-[100dvh]\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 container max-w-3xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"py-6 h-full\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"$Lc\",null,{}]]}]}]}]}],null]],\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[5250,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-414f4d94b60160e3.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"section\",null,{\"className\":\"flex flex-col gap-8 h-full justify-between\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"time\",null,{\"className\":\"text-sm font-bold text-muted-foreground font-mono\",\"children\":\"January 23, 2024\"}],[\"$\",\"h1\",null,{\"className\":\"mt-2 text-3xl md:text-4xl font-bold lg:text-5xl\",\"children\":\"저녁뉴스 보고서 생성 서비스 개발 기록\"}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-foreground/80\",\"children\":\"SvelteKit과 FastAPI로 서비스 구축하고 AWS, Cloudflare Pages에 배포하기\"}],[\"$\",\"div\",null,{\"className\":\"mt-6 flex flex-wrap gap-2\",\"children\":[[\"$\",\"$L10\",\"0\",{\"href\":\"/tags/SvelteKit\",\"className\":\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\"children\":\"SvelteKit\"}],[\"$\",\"$L10\",\"1\",{\"href\":\"/tags/FastAPI\",\"className\":\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\"children\":\"FastAPI\"}],[\"$\",\"$L10\",\"2\",{\"href\":\"/tags/AWS\",\"className\":\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\"children\":\"AWS\"}],[\"$\",\"$L10\",\"3\",{\"href\":\"/tags/Github Actions\",\"className\":\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\"children\":\"Github Actions\"}],[\"$\",\"$L10\",\"4\",{\"href\":\"/tags/Cloudflare Pages\",\"className\":\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\"children\":\"Cloudflare Pages\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mt-16\",\"children\":\"$L11\"}]]}],[\"$\",\"nav\",null,{\"className\":\"w-full flex flex-col gap-2 mt-6 mx-auto md:flex-row\",\"children\":[\"$undefined\",[\"$\",\"$L10\",null,{\"href\":\"/posts/biome\",\"className\":\"flex flex-1 gap-4 items-center p-4 text-sm text-muted-foreground border hover:text-primary border-primary/20\",\"children\":[false,[\"$\",\"div\",null,{\"className\":\"flex flex-1 flex-col\",\"style\":{\"textAlign\":\"left\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-xs text-foreground\",\"children\":\"Next\"}],[\"$\",\"span\",null,{\"className\":\"truncate\",\"children\":\"Biome\"}]]}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right \",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"dw3624 Blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/cookie.svg\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"개발환경\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#개발환경\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"개발환경\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"SvelteKit (SSR)\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Cloudflare Pages\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"FastAPI\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Docker\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"GitHub Actions\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"AWS (EC2)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"배포환경\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#배포환경\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"배포환경\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"$\",\"strong\",null,{\"children\":\"프론트엔드\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Cloudflare Pages를 사용해 배포한다.\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"main 브랜치가 push 되면 자동으로 빌드 및 배포가 이뤄진다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"$\",\"strong\",null,{\"children\":\"백엔드\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"AWS EC2를 이용해 배포한다.\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Github Actions를 통해  main 브랜치에 push하면 Docker 이미지가 빌드되고 자동으로 배포된다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"ec2-인스턴스-생성-및-docker-설치\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#ec2-인스턴스-생성-및-docker-설치\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"EC2 인스턴스 생성 및 Docker 설치\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"백엔드 서버는 80번 포트로 실행할 예정이기 때문에 인바운드 규칙은 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"HTTP:80\"}],\"과 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"HTTPS:443\"}],\"을 허용한다.\\r\\nssh로 연결할 경우 추가로 22번 포트도 열어준다.\"]}],\"\\n\",[\"$\",\"ol\",null,{\"className\":\"mt-6 mb-6 ml-6 list-decimal\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"EC2 인스턴스 생성\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Ubuntu, HTTPs, HTTP 트래픽 허가 체크\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"개인 pem 키는 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"C:\\\\Users\\\\user\\\\.ssh\\\\\"}],\"에 저장\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"remote ssh로 연결\\r\\n\",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"ssh -i \\\"~/.ssh/news-tool.pem\\\" ubuntu@ec2-**-***-***-**.us-east-2.compute.amazonaws.com\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"Docker 설치\\r\\n\",[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository\",\"children\":\"공식 문서\"}],\"에서 소개하는 대로 설치 진행\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"Docker 설정 변경 (선택)\\r\\nlinux 환경에서 Docker를 조작하려면 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"sudo\"}],\"를 사용해야 한다. 사용자를 Docker그룹에 추가해 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"sudo\"}],\"를 생략할 수 있다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4\",\"style\":{\"backgroundColor\":\"#24292e\",\"color\":\"#e1e4e8\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\" usermod -aG docker ubuntu\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"sudo\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\" service docker restart\"}]]}]]}]}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"usermod\"}],\" : 사용자 속성 변경\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"-G (--group)\"}],\" : 새로운 그룹\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"-a (--append)\"}],\" : 다른 그룹에서 삭제 없이 G 옵션에 따른 그룹에 사용자 추가\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"workflow-작성\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#workflow-작성\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"workflow 작성\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"github action에서 사용할 workflow yml을 작성한다.\\r\\nworkflow는 리포지토리에 등록된 secret 토큰을 사용할 수 있다.\\r\\n코드 작성에 앞서 workflow에서 사용할 토큰을 미리 발급받고 등록을 한다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"token-발급\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#token-발급\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Token 발급\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"workflow에서 사용할 secret 토큰을 발급한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"$\",\"strong\",null,{\"children\":\"docker access token\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"docker.com 접속\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"account Settings \u003e Security \u003e new access token\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"dckr_pat_**************_**=*********\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"$\",\"strong\",null,{\"children\":\"EC2 pem key, user name, host name\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"user명: \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"user\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"host명: \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"ec2-00-000-000-00.us-east-2.compute.amazonaws.com\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"secret-토큰-리포지토리-등록\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#secret-토큰-리포지토리-등록\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"secret 토큰 리포지토리 등록\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"위에서 발급 받은 토큰을 Github 리포지토리에 등록한다\\r\\n리포지토리 settings → security → actions → new repository secret\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"key값은 workflow 코드에서 사용할 이름과 같아야 한다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"workflow-코드\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#workflow-코드\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"workflow 코드\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"main 브랜치에 push하면 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"backend/\"}],\" 파일을 Docker 이미지로 만들어 EC2로 배포하는 내용이다.\\r\\nDocker 실행시 8000번 포트를 80번(HTTP)으로 포트 포워딩하도록 설정했다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[[\"$\",\"figcaption\",null,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"yml\",\"data-theme\":\"github-dark\",\"children\":\".github/workflows/deploy.yml\"}],[\"$\",\"pre\",null,{\"className\":\"mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4\",\"style\":{\"backgroundColor\":\"#24292e\",\"color\":\"#e1e4e8\"},\"tabIndex\":\"0\",\"data-language\":\"yml\",\"data-theme\":\"github-dark\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"data-language\":\"yml\",\"data-theme\":\"github-dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"Deploy with Docker\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"// trigger 조건\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"on\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"  push\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"    branches\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"'main'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"// 실행할 내용\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"jobs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"  build\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"    runs-on\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"ubuntu-latest\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"    steps\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      - \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"Checkout\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        uses\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"actions/checkout@v3\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      - \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"Login to Docker Hub\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        uses\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"docker/login-action@v3\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        with\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          username\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"$${{ secrets.DOCKER_HUB_USERNAME }}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          password\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"$${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      - \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"Build and push Docker image\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        uses\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"docker/build-push-action@v5\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        with\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          context\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"./backend\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          push\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\"},\"children\":\"true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          tags\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"$${{ secrets.DOCKER_HUB_USERNAME }}/news-tool:latest\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      - \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"Deploy via SSH\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        uses\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"appleboy/ssh-action@v1.0.0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"        with\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          host\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"$${{ secrets.EC2_SSH_HOST }}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          username\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"$${{ secrets.EC2_SSH_USER }}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          key\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"$${{ secrets.EC2_SSH_PRIVATE_KEY }}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#85E89D\"},\"children\":\"          script\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"|\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"            if docker ps -a | grep -q news-tool; then\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"              docker stop news-tool\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"              docker rm news-tool\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"            fi\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"            cd /home/ubuntu\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"            docker pull ${{ secrets.DOCKER_HUB_USERNAME }}/news-tool:latest\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"            docker run -d --name news-tool -p 80:8000 ${{ secrets.DOCKER_HUB_USERNAME }}/news-tool:latest\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"            echo \\\"Deployed news-tool\\\"\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}]]}]}]]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"aws-https-적용\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#aws-https-적용\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"AWS HTTPS 적용\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"HTTPS 페이지에서 HTTP 리소스를 로드하면 Mixed Content 에러가 발생한다.\\r\\n브라우저의 보안 정책으로 HTTPS로 로드된 페이지에서는 HTTP 리소스를 로드하는 것이 차단되기 때문이다.\\r\\n이를 해결하기 위해 EC2 서버에 HTTPS를 적용해야 한다.\\r\\n대략적인 흐름은 다음과 같다.\"}],\"\\n\",[\"$\",\"ol\",null,{\"className\":\"mt-6 mb-6 ml-6 list-decimal\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Route53에서 DNS 도메인 구매\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"AWS Certificate Manager에서 SSL 인증서 발급 및 호스팅 영역에 레코드 등록\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"AWS Load Balancer 적용할 대상 그룹 생성\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"AWS Load Balancer 생성 및 적용\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"domain A 레코드 등록\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"리스너 규칙 추가\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"route53에서-dns-도메인-구매\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#route53에서-dns-도메인-구매\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Route53에서 DNS 도메인 구매\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"도메인 등록에서 원하는 도메인 검색 후 구매한다.\\r\\n구매가 승인되면 이메일로 도메인을 인증한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"이후 호스팅 영역을 생성한다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"도메인 이름 입력 : 구매한 도메인 주소 입력\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"유형 : 퍼블릭 호스팅 영역\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"aws-certificate-manager에서-ssl-인증서-발급-및-호스팅-영역에-레코드-등록\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#aws-certificate-manager에서-ssl-인증서-발급-및-호스팅-영역에-레코드-등록\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"AWS Certificate Manager에서 SSL 인증서 발급 및 호스팅 영역에 레코드 등록\"]}],\"\\n\",[\"$\",\"h4\",null,{\"className\":\"mt-8 scroll-m-20 text-lg md:text-xl font-semibold tracking-tight\",\"id\":\"ssl-인증서-발급\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#ssl-인증서-발급\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"SSL 인증서 발급\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"acm에서 발급 받은 ssl은 내보내기 불가\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"aws 로드밸런싱 서비스로 적용해야 함 (\",[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://jindevelopetravel0919.tistory.com/192\",\"children\":\"참고\"}],\")\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"ACM → 인증서 요청\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"퍼블릭 인증서 요청\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"구매한 도메인 주소 입력\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"DNS 검증\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"RSA 2048\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",null,{\"className\":\"mt-8 scroll-m-20 text-lg md:text-xl font-semibold tracking-tight\",\"id\":\"cname-레코드-등록\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#cname-레코드-등록\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"CNAME 레코드 등록\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"Route53 → 도메인 주소 클릭 → 레코드 생성\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"mt-6 border-l-2 pl-6 italic [\u0026\u003e*]:text-muted-foreground break-words\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"발급까지 짧으면 20~30분, 길면 2시간 정도 걸린다고 한다.\\r\\n그 이상 걸릴 경우 과정을 점검하거나 다시 요청할 필요가 있다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"aws-load-balancer-적용할-대상-그룹-생성\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#aws-load-balancer-적용할-대상-그룹-생성\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"AWS Load Balancer 적용할 대상 그룹 생성\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"mt-6 border-l-2 pl-6 italic [\u0026\u003e*]:text-muted-foreground break-words\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"대상 그룹 : 로드밸런서가 연결할 인스턴스 그룹들\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"EC2 → 대상 그룹 → 대상 그룹 생성\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"대상 유형 : 인스턴스\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"VPC : 인스턴스 EC2와 동일하게 설정\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"상태검사 : 유효한 URI Path 입력\",\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"정기적으로 AWS가 요청을 보내 유효한지 확인\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"aws-load-balancer-생성-및-적용\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#aws-load-balancer-생성-및-적용\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"AWS Load Balancer 생성 및 적용\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"EC2 → 로드밸런서 → ALB 생성\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"네트워크 매핑 :  모두 선택\",\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"EC2가 사용하는 VPC, 서브넷과 매핑돼야 한다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"보안 그룹 : EC2 인스턴스와 동일\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"리스너\",\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"HTTP:80\"}],\" Forward to  : 생성한 대상그룹 선택\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"HTTPS:443\"}],\" Forward to  : 생성한 대상그룹 선택\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"인증서 : ACM으로 생성한 인증서 선택\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"domain-a-레코드-등록\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#domain-a-레코드-등록\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"domain A 레코드 등록\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"Route53 → 도메인 주소 클릭 → 레코드 생성 → 별칭\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"트래픽 라우팅 대상 : Application/Classic Load Balancer에 대한 별칭\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"리전 : 로드밸런서와 동일한 리전 선택\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"생성한 로드밸런서 선택\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"총 4개의 레코드가 있으면 된다. (A, NS, SOA, CNAME)\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"리스너-규칙-추가\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#리스너-규칙-추가\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"리스너 규칙 추가\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"80번 포트 리스너를 443번 포트로 리다이렉트하도록 설정한 뒤\\r\\n로드밸런서 정보로 들어가 아래 리스너탭을 확인한다.\"}],\"\\n\",[\"$\",\"h4\",null,{\"className\":\"mt-8 scroll-m-20 text-lg md:text-xl font-semibold tracking-tight\",\"id\":\"https80-조건-추가\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#https80-조건-추가\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"HTTPS:80\"}],\" 조건 추가\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"1단계 : 규칙 추가 (선택)\\r\\n2단계 : 규칙 조건 정의\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"호스트 헤더\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"구매한 도메인 주소 입력\\r\\n3단계 : 규칙 작업 정의\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"대상 그룹으로 전달\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"대상 그룹 : 생성한 대상 그룹 선택\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"기본값보다 우선이 되도록 조정\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"로드밸런싱 \u003e 대상 그룹에서 생성한 대상 그룹을 선택했을 때 표시했을 때\\r\\n정상 표시가 뜨면 HTTPS  적용이 완료된 것이다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"프론트엔드-배포\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#프론트엔드-배포\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"프론트엔드 배포\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"통신할 API 엔드포인트를 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"https://\u003c도메인 주소\u003e\"}],\"로 변경한다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"스벨테킷-어댑터-추가\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#스벨테킷-어댑터-추가\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"스벨테킷 어댑터 추가\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"sveltekit은 빌드시 적절한 adaptor가 필요하다.\\r\\nCloudflare Pages에 배포하기 위해 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"adapter-cloudflare\"}],\"를 설치하고 svelte.config.js를 수정한다.\\r\\n\",[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://kit.svelte.dev/docs/adapter-cloudflare\",\"children\":\"공식문서\"}],\" 안내 대로 진행하면 된다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4\",\"style\":{\"backgroundColor\":\"#24292e\",\"color\":\"#e1e4e8\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"npm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\" i -D @sveltejs/adapter-cloudflare\"}]]}]}]}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"mb-4 mt-1 overflow-x-auto rounded-lg border bg-black py-4\",\"style\":{\"backgroundColor\":\"#24292e\",\"color\":\"#e1e4e8\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",\"children\":[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"data-language\":\"js\",\"data-theme\":\"github-dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" adapter \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\" '@sveltejs/adapter-cloudflare'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\"},\"children\":\" default\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  kit: {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    adapter: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\"},\"children\":\"adapter\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"      // See below for an explanation of these options\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      routes: {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"        include: [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"'/*'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"],\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"        exclude: [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\"},\"children\":\"'\u003call\u003e'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"    })\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\"},\"children\":\"};\"}]}]]}]}]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"cloudflare-pages-배포\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#cloudflare-pages-배포\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Cloudflare Pages 배포\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"main 브랜치에 push 되면 \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"frontend/\"}],\" 파일을 build하고 deploy하도록 설정\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"Framework preset : Sveltekit\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"Build command : \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"npm run build\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"Build output directory : \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"/.svelte-kit/cloudflare\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"Root directory : \",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"/frontend\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"이후 \",[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://news-monitor.pages.dev\",\"children\":\"https://news-monitor.pages.dev\"}],\" 가 문제없이 표시되며\\r\\n통신도 정상적으로 이뤄지는 것을 확인할 수 있다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-2xl md:text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"참고\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#참고\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"참고\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"github-actions\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#github-actions\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Github Actions\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://github.com/dev-artisee/project000-backend-recommend\",\"children\":\"project000-backend-recommend\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://github.com/appleboy/ssh-action\",\"children\":\"SSH for GitHub Actions\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://yein-lee.tistory.com/50\",\"children\":\"GitHub Actions을 이용한 Docker 이미지 빌드 및 AWS EC2 배포 자동화\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-xl md:text-2xl font-semibold tracking-tight\",\"id\":\"aws\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#aws\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"AWS\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://velog.io/@sysy123/Github-Actions-CICD\",\"children\":\"[Github Actions CI/CD] AWS EC2 + Docker 배포하기\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://woojin.tistory.com/94\",\"children\":\"EC2 HTTPS로 연결하기\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://jindevelopetravel0919.tistory.com/192\",\"children\":\"[AWS] EC2 HTTPS 및 로드밸런서 적용\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium hover:underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://support.bespinglobal.com/ko/support/solutions/articles/73000544834--aws-acm-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EB%B0%9C%EA%B8%89-%ED%9B%84-%EC%A0%81%EC%9A%A9-%EB%B0%A9%EB%B2%95-\",\"children\":\"[AWS] ACM 인증서 발급 후 적용 방법.\"}]}],\"\\n\"]}]]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>