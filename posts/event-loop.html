<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/8d5e936419873876.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/635f6e824b737eea.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-b7e136999b117130.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-0d42ee2bf61cb1ed.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-fb8884602732d627.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-1c1525142c1b698e.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-3501045d0728dbb0.js" async=""></script><script src="/_next/static/chunks/57-4fee25b5c733f2b3.js" async=""></script><script src="/_next/static/chunks/app/layout-f53b7e716eb6aacb.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-05e0cb0c34d7d7ea.js" async=""></script><title>dw3624 Blog</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/cookie.svg"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="__className_aaf875"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="flex flex-col h-[100dvh]"><header class="container max-w-3xl"><div class="flex items-center justify-between h-16"><div class="flex gap-10 capitalize"><a class="inline-flex items-center justify-center text-primary hover:text-primary/80" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cookie "><path d="M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"></path><path d="M8.5 8.5v.01"></path><path d="M16 15.5v.01"></path><path d="M12 12v.01"></path><path d="M11 17v.01"></path><path d="M7 14v.01"></path></svg><span class="inline-flex items-center h-full ml-2 font-bold">Blog</span></a><nav class="flex gap-4"><a class="inline-flex items-center justify-center font-semibold hover:text-foreground/80 text-foreground" href="/posts/pages/1">Posts</a><a class="inline-flex items-center justify-center font-semibold hover:text-foreground/80 text-foreground/60" href="/tags">Tags</a></nav></div><nav><div>Hi.</div></nav></div></header><main class="flex-1 container max-w-3xl"><div class="py-6 h-full"><section class="flex flex-col gap-8 h-full justify-between"><article><header><time class="text-sm font-bold text-muted-foreground font-mono">November 7, 2022</time><h1 class="mt-2 text-4xl font-bold lg:text-5xl">Event Loop</h1><p class="mt-2 text-foreground/60">Task를 순차적으로 처리하는 순환적 JS 런타임 모델</p><div class="mt-6 flex flex-wrap gap-2"><a class="inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80" href="/tags/JavaScript">JavaScript</a></div></header><div class="mt-16"><h2 class="mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="개요"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#개요"><span class="icon icon-link"></span></a>개요</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">JS는 &#x27;단일 스레드&#x27; 기반의 언어입니다. 스레드가 하나라는 말은 곧 동시에 하나의 작업만을 처리할 수 있다는 걸 말합니다. 그러나 실제 JS가 사용되는 환경을 생각해보면 여러 작업이 동시에 처리됩니다. JS는 event loop를 이용해 비동기 방식으로 &#x27;동시성&#x27;을 지원합니다.</p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">Event Loop는 JS 프로그램 실행의 바탕이 되는 런타임 모델입니다.
task가 생성되길 기다렸다가, task가 생성되면 순차적으로 이를 처리, 처리할 task가 없는 경우 sleep하는 순환적인 JS 루프를 가리킵니다.</p>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="task와-microtask"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#task와-microtask"><span class="icon icon-link"></span></a>Task와 Microtask</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">event loop는 &#x27;현재 실행중인 task가 없는지&#x27;, &#x27;task queue에 task가 있는지&#x27;를 반복적으로 확인합니다.</p>
<h3 class="mt-8 scroll-m-20 text-2xl font-semibold tracking-tight" id="task"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#task"><span class="icon icon-link"></span></a>Task</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">대부분의 JS프로그램은 task로 실행됩니다.
script, handler, active event 등이 이에 해당합니다.
이들은 task로 queue에 추가돼, 가장 오래된 task부터 순차적으로 실행됩니다.</p>
<h3 class="mt-8 scroll-m-20 text-2xl font-semibold tracking-tight" id="microtask"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#microtask"><span class="icon icon-link"></span></a>Microtask</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">일부 JS프로그램은 microtask로 실행됩니다.
<code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">Promise.prototype.then(onFulfilled, onRejected)</code> 내 함수 등이 해당합니다.
이들은 microtask로 queue와는 다른 microqueue에 추가돼, 각 task가 끝날 때마다 가장 오래된 micortask부터 순차적으로 실행됩니다.</p>
<h3 class="mt-8 scroll-m-20 text-2xl font-semibold tracking-tight" id="화면묘사까지의-과정"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#화면묘사까지의-과정"><span class="icon icon-link"></span></a>화면묘사까지의 과정</h3>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">각 task가 완료될 때마다 microtask가 실행됩니다. 이후 바뀐 내용이 있는 경우 화면이 그려집니다.
모든 microtask 실행이 끝나고 화면이 그려진 뒤 task queue 내 다음 요소가 실행됩니다.</p>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="블로킹-회피"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#블로킹-회피"><span class="icon icon-link"></span></a>블로킹 회피</h2>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">task와 microtask 모두 하나의 스레드에서 실행되기 때문에, 한 task/microtask 실행에 시간이 걸릴 과하게 경우, 다른 task 실행이 멈추게 됩니다.
Web 브라우저 런타임에서는 화면이 멈추고 유저가 조작할 수 없는 상태가 됩니다.</p>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">이런 병목현상의 일반적인 원인으로 I/O가 있습니다.
만약 WebAPI나 파일시스템, DB 측 처리에 문제가 없더라도 JS런타임 내부에서 완결되는 처리에 비하면 비교적 많은 시간을 필요로 합니다.</p>
<blockquote class="mt-6 border-l-2 pl-6 italic [&amp;&gt;*]:text-muted-foreground">
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">I/O</p>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2">네트워크를 경유한 데이터 교환</li>
<li class="mt-2">파일시스템의 파일 읽고쓰기</li>
<li class="mt-2">DB와의 정보교환</li>
</ul>
</blockquote>
<p class="leading-7 [&amp;:not(:first-child)]:mt-6">따라서 Ajax나 HTTP 클라이언트 등은 비동기로 실행되도록 만들어졌습니다. 이같은 API에서는 I/O를 동반하는 처리는 event loop의 바깥(다른 프로세스)에서 이뤄집니다.
예를들어 Ajax Request(<code class="relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20">XMLHttpRequest</code>)의 경우, 해당 처리 상태를 task에서 주기적으로 확인하도록 하거나 event listener(처리 완료 = event 발화시 task queue에 추가)로 확인할 수 있습니다.</p>
<h2 class="mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0" id="참고"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor" aria-label="Link to section" href="#참고"><span class="icon icon-link"></span></a>참고</h2>
<ul class="mt-4 mb-6 ml-6 list-disc">
<li class="mt-2"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80" href="https://meetup.toast.com/posts/89">자바스크립트와 이벤트 루프</a></li>
<li class="mt-2"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80" href="https://qiita.com/mizukyf/items/17cff97493b4b8f27c68">イベントループとは何なのか？</a></li>
<li class="mt-2"><a class="font-medium underline underline-offset-4 text-primary hover:text-primary/80" href="https://vimeo.com/96425312">Help, I’m stuck in an event-loop.</a></li>
</ul></div></article><nav class="w-full flex flex-col gap-2 mt-6 mx-auto md:flex-row"><a class="flex flex-1 gap-4 items-center p-4 text-sm text-muted-foreground border hover:text-primary border-primary/20" href="/posts/tcp-udp"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left "><path d="m15 18-6-6 6-6"></path></svg><div class="flex flex-1 flex-col" style="text-align:right"><span class="text-xs text-foreground">Previous</span><span class="overflow-hidden">TCP와 UDP</span></div></a><a class="flex flex-1 gap-4 items-center p-4 text-sm text-muted-foreground border hover:text-primary border-primary/20" href="/posts/test"><div class="flex flex-1 flex-col" style="text-align:left"><span class="text-xs text-foreground">Next</span><span class="overflow-hidden">Markdown Test</span></div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right "><path d="m9 18 6-6-6-6"></path></svg></a></nav></section></div></main><footer class="container max-w-3xl"><div class="h-20 flex justify-between items-center font-sm"><span class="inline-flex items-center justify-center text-muted-foreground">© dw3624</span></div></footer></div><script src="/_next/static/chunks/webpack-b7e136999b117130.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/8d5e936419873876.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/635f6e824b737eea.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[9891,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"57\",\"static/chunks/57-4fee25b5c733f2b3.js\",\"185\",\"static/chunks/app/layout-f53b7e716eb6aacb.js\"],\"ThemeProvider\"]\nb:I[6758,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"57\",\"static/chunks/57-4fee25b5c733f2b3.js\",\"185\",\"static/chunks/app/layout-f53b7e716eb6aacb.js\"],\"\"]\nc:I[953,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"57\",\"static/chunks/57-4fee25b5c733f2b3.js\",\"185\",\"static/chunks/app/layout-f53b"])</script><script>self.__next_f.push([1,"7e716eb6aacb.js\"],\"\"]\ne:I[8955,[],\"\"]\n8:[\"slug\",\"event-loop\",\"d\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/8d5e936419873876.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"Ixbjq9JJQmf8BQGjnqmHw\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/event-loop\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"event-loop\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"event-loop\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"event-loop\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/635f6e824b737eea.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$La\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col h-[100dvh]\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 container max-w-3xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"py-6 h-full\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"$Lc\",null,{}]]}]}]}]}],null]],\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[5250,[\"250\",\"static/chunks/250-3501045d0728dbb0.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-05e0cb0c34d7d7ea.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"section\",null,{\"className\":\"flex flex-col gap-8 h-full justify-between\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"header\",null,{\"children\":[[\"$\",\"time\",null,{\"className\":\"text-sm font-bold text-muted-foreground font-mono\",\"children\":\"November 7, 2022\"}],[\"$\",\"h1\",null,{\"className\":\"mt-2 text-4xl font-bold lg:text-5xl\",\"children\":\"Event Loop\"}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-foreground/60\",\"children\":\"Task를 순차적으로 처리하는 순환적 JS 런타임 모델\"}],[\"$\",\"div\",null,{\"className\":\"mt-6 flex flex-wrap gap-2\",\"children\":[[\"$\",\"$L10\",\"0\",{\"href\":\"/tags/JavaScript\",\"className\":\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\"children\":\"JavaScript\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mt-16\",\"children\":\"$L11\"}]]}],[\"$\",\"nav\",null,{\"className\":\"w-full flex flex-col gap-2 mt-6 mx-auto md:flex-row\",\"children\":[[\"$\",\"$L10\",null,{\"href\":\"/posts/tcp-udp\",\"className\":\"flex flex-1 gap-4 items-center p-4 text-sm text-muted-foreground border hover:text-primary border-primary/20\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-left \",\"children\":[[\"$\",\"path\",\"1wnfg3\",{\"d\":\"m15 18-6-6 6-6\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-1 flex-col\",\"style\":{\"textAlign\":\"right\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-xs text-foreground\",\"children\":\"Previous\"}],[\"$\",\"span\",null,{\"className\":\"overflow-hidden\",\"children\":\"TCP와 UDP\"}]]}],false]}],[\"$\",\"$L10\",null,{\"href\":\"/posts/test\",\"className\":\"flex flex-1 gap-4 items-center p-4 text-sm text-muted-foreground border hover:text-primary border-primary/20\",\"children\":[false,[\"$\",\"div\",null,{\"className\":\"flex flex-1 flex-col\",\"style\":{\"textAlign\":\"left\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-xs text-foreground\",\"children\":\"Next\"}],[\"$\",\"span\",null,{\"className\":\"overflow-hidden\",\"children\":\"Markdown Test\"}]]}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right \",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"dw3624 Blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/cookie.svg\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"개요\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#개요\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"개요\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"JS는 '단일 스레드' 기반의 언어입니다. 스레드가 하나라는 말은 곧 동시에 하나의 작업만을 처리할 수 있다는 걸 말합니다. 그러나 실제 JS가 사용되는 환경을 생각해보면 여러 작업이 동시에 처리됩니다. JS는 event loop를 이용해 비동기 방식으로 '동시성'을 지원합니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"Event Loop는 JS 프로그램 실행의 바탕이 되는 런타임 모델입니다.\\ntask가 생성되길 기다렸다가, task가 생성되면 순차적으로 이를 처리, 처리할 task가 없는 경우 sleep하는 순환적인 JS 루프를 가리킵니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"task와-microtask\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#task와-microtask\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Task와 Microtask\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"event loop는 '현재 실행중인 task가 없는지', 'task queue에 task가 있는지'를 반복적으로 확인합니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-2xl font-semibold tracking-tight\",\"id\":\"task\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#task\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Task\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"대부분의 JS프로그램은 task로 실행됩니다.\\nscript, handler, active event 등이 이에 해당합니다.\\n이들은 task로 queue에 추가돼, 가장 오래된 task부터 순차적으로 실행됩니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-2xl font-semibold tracking-tight\",\"id\":\"microtask\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#microtask\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Microtask\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"일부 JS프로그램은 microtask로 실행됩니다.\\n\",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"Promise.prototype.then(onFulfilled, onRejected)\"}],\" 내 함수 등이 해당합니다.\\n이들은 microtask로 queue와는 다른 microqueue에 추가돼, 각 task가 끝날 때마다 가장 오래된 micortask부터 순차적으로 실행됩니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-8 scroll-m-20 text-2xl font-semibold tracking-tight\",\"id\":\"화면묘사까지의-과정\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#화면묘사까지의-과정\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"화면묘사까지의 과정\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"각 task가 완료될 때마다 microtask가 실행됩니다. 이후 바뀐 내용이 있는 경우 화면이 그려집니다.\\n모든 microtask 실행이 끝나고 화면이 그려진 뒤 task queue 내 다음 요소가 실행됩니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"블로킹-회피\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#블로킹-회피\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"블로킹 회피\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"task와 microtask 모두 하나의 스레드에서 실행되기 때문에, 한 task/microtask 실행에 시간이 걸릴 과하게 경우, 다른 task 실행이 멈추게 됩니다.\\nWeb 브라우저 런타임에서는 화면이 멈추고 유저가 조작할 수 없는 상태가 됩니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"이런 병목현상의 일반적인 원인으로 I/O가 있습니다.\\n만약 WebAPI나 파일시스템, DB 측 처리에 문제가 없더라도 JS런타임 내부에서 완결되는 처리에 비하면 비교적 많은 시간을 필요로 합니다.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"mt-6 border-l-2 pl-6 italic [\u0026\u003e*]:text-muted-foreground\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":\"I/O\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"네트워크를 경유한 데이터 교환\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"파일시스템의 파일 읽고쓰기\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":\"DB와의 정보교환\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"leading-7 [\u0026:not(:first-child)]:mt-6\",\"children\":[\"따라서 Ajax나 HTTP 클라이언트 등은 비동기로 실행되도록 만들어졌습니다. 이같은 API에서는 I/O를 동반하는 처리는 event loop의 바깥(다른 프로세스)에서 이뤄집니다.\\n예를들어 Ajax Request(\",[\"$\",\"code\",null,{\"className\":\"relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm bg-primary/20\",\"children\":\"XMLHttpRequest\"}],\")의 경우, 해당 처리 상태를 task에서 주기적으로 확인하도록 하거나 event listener(처리 완료 = event 발화시 task queue에 추가)로 확인할 수 있습니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-10 scroll-m-20 border-b pb-1 text-3xl font-semibold tracking-tight first:mt-0\",\"id\":\"참고\",\"children\":[[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80 subheading-anchor\",\"aria-label\":\"Link to section\",\"href\":\"#참고\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"참고\"]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mt-4 mb-6 ml-6 list-disc\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://meetup.toast.com/posts/89\",\"children\":\"자바스크립트와 이벤트 루프\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://qiita.com/mizukyf/items/17cff97493b4b8f27c68\",\"children\":\"イベントループとは何なのか？\"}]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"mt-2\",\"children\":[\"$\",\"a\",null,{\"className\":\"font-medium underline underline-offset-4 text-primary hover:text-primary/80\",\"href\":\"https://vimeo.com/96425312\",\"children\":\"Help, I’m stuck in an event-loop.\"}]}],\"\\n\"]}]]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>